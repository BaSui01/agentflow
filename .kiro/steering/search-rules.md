# 代码搜索规则

## 上下文搜索工具使用规范

### 主要规则

**始终优先使用 ACE 工具进行代码搜索**

当需要搜索代码库、查找函数、类、或理解代码结构时，必须使用 `mcp_ace_tool_search_context` 工具（ACE 上下文搜索引擎）。

ACE 工具优势: 语义理解、实时索引、高质量召回、跨语言、智能排序

### 使用场景

✅ **ACE 工具**: 功能实现位置、代码结构、测试代码、类/函数/接口定义、模块关系
❌ **grep 工具**: 标识符引用、精确字符串、配置值、特定文件搜索

### 工作流

1. 任务前用 ACE 理解代码结构
2. 编辑前用 ACE 获取详细信息
3. 一次查询获取所有相关信息,避免多次调用
