# =============================================================================
# ğŸ“¦ AgentFlow ç¤ºä¾‹é…ç½®æ–‡ä»¶
# =============================================================================
# å¤åˆ¶æ­¤æ–‡ä»¶ä¸º config.yaml å¹¶æ ¹æ®éœ€è¦ä¿®æ”¹
# é…ç½®ä¼˜å…ˆçº§: é»˜è®¤å€¼ â†’ YAML æ–‡ä»¶ â†’ ç¯å¢ƒå˜é‡
# =============================================================================

# -----------------------------------------------------------------------------
# ğŸ–¥ï¸ æœåŠ¡å™¨é…ç½®
# -----------------------------------------------------------------------------
server:
  # HTTP API ç«¯å£
  http_port: 8080
  # gRPC æœåŠ¡ç«¯å£
  grpc_port: 9090
  # Prometheus æŒ‡æ ‡ç«¯å£
  metrics_port: 9091
  # è¯»å–è¶…æ—¶
  read_timeout: "30s"
  # å†™å…¥è¶…æ—¶
  write_timeout: "30s"
  # ä¼˜é›…å…³é—­è¶…æ—¶
  shutdown_timeout: "15s"

# -----------------------------------------------------------------------------
# ğŸ¤– Agent é»˜è®¤é…ç½®
# -----------------------------------------------------------------------------
agent:
  # Agent åç§°
  name: "default-agent"
  # Agent æè¿°
  description: "Default AgentFlow agent"
  # ä½¿ç”¨çš„æ¨¡å‹
  model: "gpt-4"
  # ç³»ç»Ÿæç¤ºè¯
  system_prompt: "You are a helpful AI assistant."
  # æœ€å¤§è¿­ä»£æ¬¡æ•°
  max_iterations: 10
  # æ¸©åº¦å‚æ•° (0.0 - 2.0)
  temperature: 0.7
  # æœ€å¤§ Token æ•°
  max_tokens: 4096
  # è¶…æ—¶æ—¶é—´
  timeout: "5m"
  # æ˜¯å¦å¯ç”¨æµå¼è¾“å‡º
  stream_enabled: true

  # è®°å¿†é…ç½®
  memory:
    # æ˜¯å¦å¯ç”¨è®°å¿†
    enabled: true
    # è®°å¿†ç±»å‹: buffer, summary, vector
    type: "buffer"
    # æœ€å¤§æ¶ˆæ¯æ•°
    max_messages: 100
    # Token é™åˆ¶
    token_limit: 8000

# -----------------------------------------------------------------------------
# ğŸ”´ Redis é…ç½® (çŸ­æœŸè®°å¿†ç¼“å­˜)
# -----------------------------------------------------------------------------
redis:
  # Redis åœ°å€
  addr: "localhost:6379"
  # å¯†ç  (ç•™ç©ºè¡¨ç¤ºæ— å¯†ç )
  password: ""
  # æ•°æ®åº“ç¼–å·
  db: 0
  # è¿æ¥æ± å¤§å°
  pool_size: 10
  # æœ€å°ç©ºé—²è¿æ¥
  min_idle_conns: 2

# -----------------------------------------------------------------------------
# ğŸ˜ æ•°æ®åº“é…ç½® (å…ƒæ•°æ®å­˜å‚¨)
# -----------------------------------------------------------------------------
database:
  # é©±åŠ¨ç±»å‹: postgres, mysql, sqlite
  driver: "postgres"
  # ä¸»æœºåœ°å€
  host: "localhost"
  # ç«¯å£
  port: 5432
  # ç”¨æˆ·å
  user: "agentflow"
  # å¯†ç 
  password: "your_password_here"
  # æ•°æ®åº“å
  name: "agentflow"
  # SSL æ¨¡å¼: disable, require, verify-ca, verify-full
  ssl_mode: "disable"
  # æœ€å¤§è¿æ¥æ•°
  max_open_conns: 25
  # æœ€å¤§ç©ºé—²è¿æ¥
  max_idle_conns: 5
  # è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸ
  conn_max_lifetime: "5m"

# -----------------------------------------------------------------------------
# ğŸ”· Qdrant é…ç½® (å‘é‡å­˜å‚¨)
# -----------------------------------------------------------------------------
qdrant:
  # Qdrant ä¸»æœº
  host: "localhost"
  # gRPC ç«¯å£
  port: 6334
  # API Key (å¯é€‰)
  api_key: ""
  # é»˜è®¤é›†åˆå
  collection: "agentflow_vectors"

# -----------------------------------------------------------------------------
# ğŸ§  LLM é…ç½®
# -----------------------------------------------------------------------------
llm:
  # é»˜è®¤ Provider: openai, anthropic, azure, ollama
  default_provider: "openai"
  # API Key (å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡ AGENTFLOW_LLM_API_KEY)
  api_key: ""
  # åŸºç¡€ URL (å¯é€‰ï¼Œç”¨äºè‡ªå®šä¹‰ç«¯ç‚¹)
  base_url: ""
  # è¯·æ±‚è¶…æ—¶
  timeout: "2m"
  # æœ€å¤§é‡è¯•æ¬¡æ•°
  max_retries: 3

# -----------------------------------------------------------------------------
# ğŸ“ æ—¥å¿—é…ç½®
# -----------------------------------------------------------------------------
log:
  # æ—¥å¿—çº§åˆ«: debug, info, warn, error
  level: "info"
  # è¾“å‡ºæ ¼å¼: json, console
  format: "json"
  # è¾“å‡ºè·¯å¾„
  output_paths:
    - "stdout"
    # - "/var/log/agentflow/app.log"
  # æ˜¯å¦å¯ç”¨è°ƒç”¨è€…ä¿¡æ¯
  enable_caller: true
  # æ˜¯å¦å¯ç”¨å †æ ˆè·Ÿè¸ª
  enable_stacktrace: false

# -----------------------------------------------------------------------------
# ğŸ“Š é¥æµ‹é…ç½®
# -----------------------------------------------------------------------------
telemetry:
  # æ˜¯å¦å¯ç”¨é¥æµ‹
  enabled: false
  # OTLP ç«¯ç‚¹
  otlp_endpoint: "localhost:4317"
  # æœåŠ¡åç§°
  service_name: "agentflow"
  # é‡‡æ ·ç‡ (0.0 - 1.0)
  sample_rate: 0.1
